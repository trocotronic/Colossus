## $Id: Makefile.in,v 1.3 2005-07-13 15:27:23 Trocotronic Exp $

INCLUDES = ../include/ircd.h ../include/ircsprintf.h ../include/md5.h \
	../include/modulos.h ../include/parseconf.h \
	../include/sql.h ../include/struct.h
R_MODULES=mysql.so postgresql.so
COMMANDS=mysql.o postgresql.o
MODULES=$(R_MODULES)
MODULEFLAGS=@MODULEFLAGS@
all: build
build: $(MODULES)
custommodule: $(MODULEFILE).c
	$(CC) $(CFLAGS) $(MODULEFLAGS) -o $(MODULEFILE).so $(MODULEFILE).c 
mysql.so: mysql.c $(INCLUDES)
	$(CC) $(CFLAGS) $(MODULEFLAGS) -o @MYSQLLIBS@ mysql.so mysql.c
postgresql.so: postgresql.c $(INCLUDES)
	$(CC) $(CFLAGS) $(MODULEFLAGS) @POSTGREHEAD@ -o @POSTGRELIBS@ postgresql.so postgresql.c
clean:
	$(RM) -f *.o *.so *~ core
